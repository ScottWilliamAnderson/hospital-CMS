{% extends "base.html" %}
{% block title %} Edit Page {% endblock %}


{% block content%}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<div class='container'>
  <div class="row justify-content-center">
    <h2>Edit Main Content Page</h2>
  </div>

  <!--Dropdown primary-->
<div class="dropdown dropright">
  <!--Trigger-->
  <button class="btn btn-info dropdown-toggle" type="button" id="dropdownMenu1-1"
    data-toggle="dropdown">Choose Heading</button>

  <!--Menu-->
  <div class="dropdown-menu dropdown-primary" id="headingMenu">
    <input class="form-control" type="text" placeholder="New Heading" aria-label="Search">
    <a class="dropdown-item" >Placeholder_Heading_1</a>
  </div>
</div>
<!--/Dropdown primary-->
<br>
<!--Dropdown primary-->
<div class="dropdown dropright">
<!--Trigger-->
<button class="btn btn-info dropdown-toggle" type="button" id="dropdownMenu1-3"
  data-toggle="dropdown">Position in list: </button>

<!--Menu-->
<div class="dropdown-menu dropdown-primary" id="positionMenu">
  <input class="form-control" type="text" placeholder="New Title" aria-label="Search">
  <a class="dropdown-item">1</a>
  <a class="dropdown-item">2</a>
  <a class="dropdown-item">3</a>
</div>
</div>
<!--/Dropdown primary-->
<br>
<!--Dropdown primary-->
<div class="dropdown dropright">
<!--Trigger-->
<button class="btn btn-info dropdown-toggle" type="button" id="dropdownMenu1-2"
  data-toggle="dropdown">Choose title of paragraph</button>

<!--Menu-->
<div class="dropdown-menu dropdown-primary" id="titleMenu">
  <input class="form-control" type="text" placeholder="New Title" aria-label="Search">
  <a class="dropdown-item">Placeholder_Title_1</a>
</div>
</div>
<!--/Dropdown primary-->

<!-- Script to select heading and title to display as button text, respectively-->
<script>
$("#titleMenu a").click(function(e){
  e.preventDefault(); // cancel the link behaviour
  var selText = $(this).text();
  $("#dropdownMenu1-2").text("Chosen Title: " + selText);
});

$("#headingMenu a").click(function(e){
  e.preventDefault(); // cancel the link behaviour
  var selText = $(this).text();
  $("#dropdownMenu1-1").text("Chosen Heading: " + selText);
});

$("#positionMenu a").click(function(e){
  e.preventDefault(); // cancel the link behaviour
  var selText = $(this).text();
  $("#dropdownMenu1-3").text("Position in list: " + selText);
});

</script>

<br>


<div id="editor">
  <h2>What is the liver? </h2>
  <p> <br>
    <b>Throughout this site, a lot of technical vocabulary is used, please use the glossary (found on the top right of this page) if you are unsure of the meaning of something.</b> <br> <br>
    The liver is a large organ found at the top of the abdomen (tummy area) on the right side. It is made up of cells; blood vessels and bile ducts. <br> <br> The main cells in the liver are known as <b>hepatocytes</b>.
    <div class="row">
        <img id="image1" src="../static/resources/indexImages/image1.png">
    </div>
  </p>

  <p>
    The liver is made up of two main parts: the right lobe and the left lobe. The right lobe is large, whilst the left lobe is smaller.
  </p>
</div>




<!-- Include stylesheet -->
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<!-- Include the Quill library -->
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

<!-- Initialize Quill editor -->
<script>
  var toolbarOptions = ['bold', 'italic', 'underline', 'strike'];
  var quill = new Quill('#editor', {
    theme: 'snow',
    modules: {
      toolbar: [
            [{ 'font': [] }, { 'size': [] }],
            [ 'bold', 'italic', 'underline', 'strike' ],
            [{ 'color': [] }, { 'background': [] }],
            [{ 'script': 'super' }, { 'script': 'sub' }],
            [{ 'header': '1' }, { 'header': '2' }, 'blockquote', 'code-block' ],
            [{ 'list': 'ordered' }, { 'list': 'bullet'}, { 'indent': '-1' }, { 'indent': '+1' }],
            [ 'direction', { 'align': [] }],
            [ 'link', 'image', 'video', 'formula' ],
            [ 'clean' ]
      ]
    }

  });

</script>


    <br>
    <div class="row justify-content-center">
      <input type="submit" class="btn btn-success" value="Save Changes" id="save" name="save">
      <input type="submit" class="btn btn-danger" value="Remove Selected Article">
    </div>


</div>
<script type="text/javascript">

  quillHTML = quill.root.innerHTML.trim();
  $("#save").click(function(){
  $.ajax({
    type : 'POST',
    url : "{{url_for('content.edit_content')}}",
    data : {'data': quillHTML}
  });
   });
</script>>

{% endblock %}
