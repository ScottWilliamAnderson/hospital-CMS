<!DOCTYPE html>
<html>
<head>
  
  <!-- bootstrap link -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">

  <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/dashboard.css')}}">
  <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/style.css')}}">
  <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/nav-dl.css')}}">


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script> 
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
 	<script src="https://kit.fontawesome.com/a8a067ebb4.js" crossorigin="anonymous"></script>


	<title>{% block title %}{% endblock %}</title>
	{% block head %} {% endblock %}
</head>

<body>
  <nav class="navbar sticky-top navbar-expand navbar-light" id="nav">
    <a class="navbar-brand" href="{{url_for('main.home')}}" id="home">
      <i class="fas fa-home"  id="house"></i>
    </a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="{{url_for('main.index')}}">Home</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="{{url_for('drug_chart.medication')}}">Drug Chart</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="{{url_for('main.faq')}}">FAQ</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="{{url_for('main.announcements')}}">Announcements</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="{{url_for('main.about')}}">About</a>
        </li>

        <script type="text/javascript" src="{{url_for('static', filename='js/hilitor.js')}}"></script>
        <script>
          window.addEventListener("DOMContentLoaded", function(e) {
            var highlighter = new Hilitor("testText");
            highlighter.setMatchType("left");
            highlighter.setBreakRegExp(new RegExp('[^\\w\' -]+', "g"));
            highlighter.apply("input string,searchInput");
            document.getElementById("searchInput").addEventListener("keyup", function(e) {
              highlighter.apply(this.value);
            }, false);
          }, false);
        </script>
      </ul>
      <form class="form-inline">
        <i class="fas fa-search" aria-hidden="true"></i>
        <input id="searchInput" type="text" placeholder="Search" class="form-control form-control-sm ml-3 w-75" type="text" placeholder="Search" aria-label="Search">
      </form>

      <ul class="navbar-nav">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-333" data-toggle="dropdown" aria-haspopup="true" aria expanded="false">
            <i class="fas fa-user"></i>
         </a>
          <div class="dropdown-menu dropdown-menu-right dropdown-default" aria-labelledby="navbarDropdownMenuLink-333">
            {% if current_user.is_authenticated %}
              <a class="dropdown-item" href="{{url_for('dashboard.dashboard_panel')}}">Dashboard</a>
              <a class="dropdown-item" href="{{url_for('users.logout')}}">Logout</a>
            {%else%}
              <a id="staff" class="dropdown-item" href="{{url_for('users.login')}}">Staff Login</a>
            {%endif%}
          </div>
        </li>
      </ul>
      <label>
        <input type="checkbox" id="darkMode">
        <span class="darkModeBtn"></span>
      </label>
    </div>
  </nav>

  {% block body %}{% endblock %}

  <footer>
    <div class="lower-footer">
      <p>King's College London</p>
      <div class="something-wrong">
        <p>Something wrong with this page? <a href="{{url_for('main.somethingWrong')}}">Tell us!</a></p>
      </div>
    </div>
  </footer>

  <script type="text/javascript">
    document.getElementById('darkMode').addEventListener('change', function(event){
      (event.target.checked) ? document.body.setAttribute('data-theme', 'dark') : document.body.removeAttribute('data-theme');
    });
  </script>
</body>
</html>
